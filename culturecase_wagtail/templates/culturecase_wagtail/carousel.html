{% load staticfiles compress kdl_culturecase  wagtailimages_tags %}

  <!-- START REVOLUTION SLIDER 4.6.1 fullwidth mode -->
  <div id="rev_slider_1_1_wrapper" class="rev_slider_wrapper fullwidthbanner-container"
    style="margin: 0px auto; background-color: #E9E9E9; padding: 0px; margin-top: 0px; margin-bottom: 0px; max-height: 438px;"
  >
    <div id="rev_slider_1_1" class="rev_slider fullwidthabanner" style="display: none; max-height: 438px; height: 438px;">
      <ul>
        {%  for slide in page.slides.all %}
          <!-- SLIDE  -->
          <li data-transition="slidehorizontal" data-slotamount="7" data-masterspeed="500"
            data-link="{{ slide.related_page.url }}" data-saveperformance="off"
          >
            <!-- MAIN IMAGE --> 
            <img src="{% static 'www.culturecase.org/wp-content/plugins/revslider/images/transparent.png' %}" 
                style="background-color: {{ slide.background_color|default:'white' }}" alt=""
                data-bgposition="center top" data-bgfit="cover" data-bgrepeat="no-repeat"> 
            <!-- LAYERS --> 
            <!-- LAYER NR. 1 -->
            <div class="tp-caption tp-fade" data-x="1" data-y="center" data-voffset="0" data-speed="300" data-start="500" data-easing="Power3.easeInOut" data-elementdelay="0.1"
              data-endelementdelay="0.1" data-endspeed="300" style="z-index: 5;">
              {% image slide.image fill-500x438 as slide_image %}
              <img src="{{ slide_image.url }}" alt="{{ slide_image.alt }}" data-ww="45%" data-hh="438">
            </div> 
            <!-- LAYER NR. 2 -->
            <div class="tp-caption large-black_text tp-fade tp-resizeme" data-x="right" data-hoffset="-17" data-y="58" data-speed="300" data-start="500" data-easing="Power3.easeInOut"
              data-splitin="none" data-splitout="none" data-elementdelay="0.1" data-endelementdelay="0.1" data-endspeed="300"
              style="z-index: 6; max-width: 439px; max-height: 80px; white-space: normal; color:{{slide.text_color|default:'black'}};">{{ slide.title }}</div> 
            <!-- LAYER NR. 3 -->
            <div class="tp-caption small_thin_grey tp-fade tp-resizeme" data-x="right" data-hoffset="-49" data-y="center" data-voffset="99" data-speed="300" data-start="500"
              data-easing="Power3.easeInOut" data-splitin="none" data-splitout="none" data-elementdelay="0.1" data-endelementdelay="0.1" data-endspeed="300"
              style="z-index: 7; max-width: 400px; max-height: auto; white-space: normal;">
            </div> 
            <!-- LAYER NR. 4 -->
            <div class="tp-caption black tp-fade tp-resizeme" data-x="770" data-y="243" data-speed="300" data-start="500" data-easing="Power3.easeInOut" data-splitin="none"
              data-splitout="none" data-elementdelay="0.1" data-endelementdelay="0.1" data-endspeed="300" style="z-index: 8; max-width: auto; max-height: auto; white-space: nowrap;">
            </div> 
            <!-- LAYER NR. 5 -->
            <div class="tp-caption blackbigger tp-fade tp-resizeme" data-x="546" data-y="270" data-speed="300" data-start="500" data-easing="Power3.easeInOut" data-splitin="none"
              data-splitout="none" data-elementdelay="0.1" data-endelementdelay="0.1" data-endspeed="300" style="color:{{slide.text_color|default:'black'}} ; z-index: 9; max-width: 416px; max-height: 80px; white-space: pre-wrap;">{{ slide.caption }}</div>
          </li>
        {% endfor %}
      </ul>
      {# GN: This progress-bar is not visible but JS updates takes 100% cpu! I've added display: none to avoid that #}
      <div class="tp-bannertimer tp-bottom" style="visibility: hidden !important; display: none !important;"></div>
    </div>
  </div>
  <!-- END REVOLUTION SLIDER -->
